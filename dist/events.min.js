;(function(g){function d(){var i=e;return i}function e(){e.init.call(this)}e.init=function(){if(!this.event_list){this.event_list={}}this.MaxEventListNum=this.MaxEventListNum||undefined;this.defaultMaxEventListNum=10};e.prototype.install=function(j,i){j.prototype.$ev=this};e.prototype.on=function(l,m){var k,j;if(!h(m)){throw new Error('events.prototype.on || [eventName, content] -> Error: "content" must be a function')}k=this.event_list;if(!k){k=this.event_list={}}else{j=this.event_list[l]}if(!j){j=this.event_list[l]=m;j.ListenerCount=1}else{if(h(j)){j=this.event_list[l]=[j,m];j.ListenerCount=j.length}else{if(c(j)){j.push(m);j.ListenerCount=j.length}}}if(!j.maxed){if(c(j)){var i=j.length;if(i>(this.MaxEventListNum?this.MaxEventListNum:this.defaultMaxEventListNum)){j.maxed=true;console.warn("events.MaxEventListNum || [ MaxEventListNum ] :The number of subscriptions exceeds the maximum, and if you do not set it, the default value is 10")}else{j.maxed=false}}}};e.prototype.emit=function(l,o){var k,j,m=Array.prototype.slice.call(arguments,1);k=this.event_list;if(k){j=this.event_list[l]}else{console.warn('events.prototype.emit || [eventName, content] -> Error: "can not find eventName"')}if(!j){return false}else{if(h(j)){j.apply(this,m)}else{if(c(j)){for(var n=0;n<j.length;n++){j[n].apply(this,m)}}}}return true};e.prototype.once=function(j,i){if(!h(i)){throw new Error('events.prototype.once || [eventName, content] -> Error: "content" must be a function')}this.on(j,b(this,j,i));return this};e.prototype.removeListener=function(n,o){var k,j,l=0;if(!h(o)){throw new Error('events.prototype.removeListener || [eventName, content] -> Error: "content" must be a function')}k=this.event_list;if(!k){return this}else{j=this.event_list[n]}if(!j){return this}if(h(j)){if(j===o){delete k[n]}}else{if(c(j)){for(var m=0;m<j.length;m++){if(j[m]===o){this.event_list[n].splice(m-l,1);j.ListenerCount=j.length;if(this.event_list[n].length===0){delete this.event_list[n]}l++}}}}console.log(k);return this};e.prototype.removeAllListener=function(n){var k,j;k=this.event_list;if(!k){return this}j=this.event_list[n];if(arguments.length===0&&(!n)){var o=Object.keys(this.event_list);for(var m=0,l;m<o.length;m++){l=o[m];delete this.event_list[l]}}if(j||h(j)||c(j)){delete this.event_list[n]}else{return this}};e.prototype.getListenerCount=function(m){var k,j,n=m,l={};k=this.event_list;if(!k||Object.keys(k).length===0){return undefined}if(!n){for(var i in k){l[i]=k[i].ListenerCount}return l}j=this.event_list[m];if(j&&j.ListenerCount){return j.ListenerCount}else{return 0}};function b(m,j,k){var l=false;function i(){this.removeListener(j,i);if(!l){l=true;k.apply(m,arguments)}i.content=k}return i}function h(i){return i instanceof Function}function a(i){return i instanceof Object}function c(i){return i instanceof Array}if(typeof module!=="undefined"&&typeof exports==="object"){var f=d();module.exports=new f()}else{if(typeof define==="function"&&(define.cmd||define.amd)){define(d)}else{g.Events=d()}}})(typeof window!=="undefined"?window:global);